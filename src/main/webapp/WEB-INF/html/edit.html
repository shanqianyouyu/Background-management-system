<!DOCTYPE html>
<html>
<head>
		<meta charset="utf-8"/>
		<title>编辑</title>
		<!-- 引入bootstrap样式 -->
		<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css"/>
		<!-- 引入bootstrap-table样式 -->
		<link rel="stylesheet" href="bootstrap/css/bootstrap-table.min.css"/>
		<!-- layer -->
		<link rel="stylesheet" href="css/layui.css"/>
		<style type="text/css">
				.form-group {
						width: 90%;
						margin: 15px auto;
				}
		</style>
</head>
<body>

<div>
		<form id="form1" action="" method="get" class="">
				<div class="form-group">
						<label class="control-label ">ID：</label>
						<input type="text" id="id" class="form-control" name="id"/>
				</div>
				<div class="form-group">
						<label class="control-label ">Name：</label>
						<input type="text" id="name" class="form-control" name="name"/>
				</div>
				<div class="form-group" style="height: 100px;">
						<label class="control-label ">Price：</label>
						<!--<input type="text" id="price" class="form-control" name="price" />-->
						<select class="form-control" id="price" name="price">
								<option value="$0">请选择</option>
								<option value="$1">$1</option>
								<option value="$2">$2</option>
								<!--<option value="$3">$3</option>-->
								<!--<option value="$4">$4</option>-->
						</select>
				</div>
				<div class="form-group" style="text-align: center">
						<input type="button" id="submit" class="btn btn-primary" style="width: 25%;" value="修改"/>
						<input type="button" id="close" class="btn btn-danger" style="width: 25%;" value="关闭"/>
				</div>
		
		</form>
</div>

<!-- jquery -->
<script type="text/javascript" src="bootstrap/js/jquery.min.js"></script>
<!--<script type="text/javascript" src="js/jquery-1.11.3.min.js" ></script>-->
<!-- layer -->
<script type="text/javascript" src="layui.js"></script>

<script type="text/javascript">
    //给jq扩展方法
    (function ($) {
        $.getUrlParam = function (name) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
            var r = window.location.search.substr(1).match(reg);
            if (r != null) return unescape(r[2]);
            return null;
        }
    })(jQuery);
    //alert($.getUrlParam('id'));

    var index = parent.layer.getFrameIndex(window.name);
    $("#close").on('click', function () {
        parent.layer.close(index);
    });
    //
    var typelook = $.getUrlParam("type");

    //初始化数据
    initData();
    if (typelook) {
        $("#submit").hide();
        $("input").attr('disabled', true);
        $("select").attr('disabled', true);
        $('#close').attr('disabled', false);
    }

    function initData() {
        var id = $.getUrlParam('id');
        var name = $.getUrlParam('name');
        var price = $.getUrlParam('price');
        $('#id').val(id);
        $('#name').val(name);
        $('#price').val(price);
    }

    $("#submit").click(function () {
        layer.msg("修改成功");
        setTimeout(function () {
            parent.layer.close(index);
        }, 1000);
    });
</script>
</body>
</html>